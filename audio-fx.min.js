AudioFX=function(){var f="0.2.0";var c=false,e=document.createElement("audio"),a=function(i){var h=e.canPlayType(i);return(h==="probably")||(h==="maybe")};if(e&&e.canPlayType){c={ogg:a('audio/ogg; codecs="vorbis"'),mp3:a("audio/mpeg;"),wav:a('audio/wav; codecs="1"'),loop:(typeof e.loop==="boolean")}}var d=function(l,h,k){var j=document.createElement("audio");if(k){var i=function(){j.removeEventListener("canplay",i,false);k()};j.addEventListener("canplay",i,false)}if(h.loop&&!c.loop){j.addEventListener("ended",function(){j.currentTime=0;j.play()},false)}j.volume=h.volume||0.2;j.autoplay=h.autoplay;j.loop=h.loop;j.src=l;return j};var g=function(l,h,j){var i=[];if(c){for(var m=0;m<(h.pool||1);m++){i.push(d(l,h,m==0?j:null))}}else{j()}var k=function(){var p,o;for(p=0;p<i.length;p++){o=i[p];if(o.paused||o.ended){return o}}};return{audio:(i.length==1?i[0]:i),play:function(){var n=k();if(n){n.play()}},stop:function(){var p,o;for(p=0;p<i.length;p++){o=i[p];o.pause();o.currentTime=0}}}};var b=function(j,i,k){i=i||{};var l=j,h=i.formats;if(h){for(var m=0;m<h.length;m++){if(c&&c[h[m]]){l=l+"."+h[m];break}}}return g(l,i,k)};b.version=f;b.supported=c;return b}();
